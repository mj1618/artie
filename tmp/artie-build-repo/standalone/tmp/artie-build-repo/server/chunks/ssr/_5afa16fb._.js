module.exports=[38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},42184,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(11241);var d=a.i(96373),e=a.i(1322),f=a.i(38246);function g({teamId:a}){let c=(0,d.useQuery)(e.api.projects.listByTeam,{teamId:a});return c?0===c.length?(0,b.jsx)("div",{className:"px-4 py-3 text-sm text-zinc-500",children:"No repos connected yet"}):(0,b.jsx)("ul",{className:"divide-y divide-zinc-800",children:c.map(a=>(0,b.jsx)("li",{children:(0,b.jsxs)(f.default,{href:`/workspace/${a._id}`,className:"flex items-center gap-3 px-4 py-3 transition-colors hover:bg-zinc-800/50",children:[(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4 shrink-0 text-zinc-500",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M4.25 2A2.25 2.25 0 0 0 2 4.25v11.5A2.25 2.25 0 0 0 4.25 18h11.5A2.25 2.25 0 0 0 18 15.75V4.25A2.25 2.25 0 0 0 15.75 2H4.25Zm4.03 6.28a.75.75 0 0 0-1.06-1.06L4.97 9.47a.75.75 0 0 0 0 1.06l2.25 2.25a.75.75 0 0 0 1.06-1.06L6.56 10l1.72-1.72Zm3.44-1.06a.75.75 0 1 1 1.06 1.06L11.06 10l1.72 1.72a.75.75 0 1 1-1.06 1.06l-2.25-2.25a.75.75 0 0 1 0-1.06l2.25-2.25Z",clipRule:"evenodd"})}),(0,b.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,b.jsxs)("p",{className:"truncate text-sm font-medium text-zinc-200",children:[a.githubOwner,"/",a.githubRepo]}),(0,b.jsx)("p",{className:"truncate text-xs text-zinc-500",children:a.defaultBranch})]}),(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4 text-zinc-600",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})})]})},a._id))}):(0,b.jsx)("div",{className:"px-4 py-2 text-sm text-zinc-500",children:"Loading..."})}function h(){let a=(0,d.useQuery)(e.api.teams.listMyTeams),h=(0,d.useQuery)(e.api.users.currentUser),i=(0,d.useMutation)(e.api.teams.createTeam),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(!1),p=h?.name??h?.email??"there";async function q(a){a.preventDefault();let b=l.trim();if(b){o(!0);try{await i({name:b}),m(""),k(!1)}finally{o(!1)}}}return(0,b.jsxs)("div",{className:"mx-auto max-w-3xl px-6 py-10",children:[(0,b.jsxs)("h1",{className:"text-2xl font-bold text-zinc-100",children:["Welcome back, ",p]}),(0,b.jsx)("p",{className:"mt-1 text-sm text-zinc-500",children:"Select a repo to open the workspace, or create a new team."}),(0,b.jsxs)("div",{className:"mt-8 flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-zinc-200",children:"Your Teams"}),(0,b.jsx)("button",{onClick:()=>k(!0),className:"rounded-md bg-zinc-100 px-3 py-1.5 text-sm font-medium text-zinc-900 hover:bg-zinc-200",children:"Create Team"})]}),j&&(0,b.jsxs)("form",{onSubmit:q,className:"mt-4 flex items-center gap-2",children:[(0,b.jsx)("input",{type:"text",value:l,onChange:a=>m(a.target.value),placeholder:"Team name",autoFocus:!0,className:"flex-1 rounded-md border border-zinc-700 bg-zinc-900 px-3 py-2 text-sm text-zinc-100 placeholder-zinc-500 outline-none focus:border-zinc-500"}),(0,b.jsx)("button",{type:"submit",disabled:n||!l.trim(),className:"rounded-md bg-zinc-100 px-3 py-2 text-sm font-medium text-zinc-900 hover:bg-zinc-200 disabled:opacity-50",children:n?"Creating...":"Create"}),(0,b.jsx)("button",{type:"button",onClick:()=>{k(!1),m("")},className:"rounded-md px-3 py-2 text-sm text-zinc-400 hover:text-zinc-200",children:"Cancel"})]}),void 0===a?(0,b.jsx)("div",{className:"mt-6 flex justify-center",children:(0,b.jsx)("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-zinc-600 border-t-white"})}):0===a.length?(0,b.jsxs)("div",{className:"mt-6 rounded-lg border border-zinc-800 bg-zinc-900 p-8 text-center",children:[(0,b.jsx)("p",{className:"text-sm text-zinc-400",children:"You don't have any teams yet."}),(0,b.jsx)("button",{onClick:()=>k(!0),className:"mt-3 rounded-md bg-zinc-100 px-4 py-2 text-sm font-medium text-zinc-900 hover:bg-zinc-200",children:"Create your first team"})]}):(0,b.jsx)("div",{className:"mt-6 space-y-4",children:a.map(a=>(0,b.jsxs)("div",{className:"overflow-hidden rounded-lg border border-zinc-800 bg-zinc-900",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between border-b border-zinc-800 px-4 py-3",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-zinc-200",children:a.name}),(0,b.jsx)(f.default,{href:`/team/${a._id}`,className:"rounded px-2 py-1 text-xs text-zinc-400 hover:bg-zinc-800 hover:text-zinc-200",children:"Manage"})]}),(0,b.jsx)(g,{teamId:a._id})]},a._id))})]})}a.s(["default",()=>h])}];

//# sourceMappingURL=_5afa16fb._.js.map