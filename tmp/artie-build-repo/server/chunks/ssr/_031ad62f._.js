module.exports=[38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},47838,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944);a.i(11241);var e=a.i(96373),f=a.i(1322),g=a.i(38246);function h({teamId:a,isOwner:d}){let g=(0,e.useQuery)(f.api.teams.listMembers,{teamId:a}),h=(0,e.useMutation)(f.api.teams.removeMember),[i,j]=(0,c.useState)(null);if(!g)return(0,b.jsx)("div",{className:"px-4 py-3 text-sm text-zinc-500",children:"Loading..."});if(g.length<=1)return(0,b.jsx)("div",{className:"px-4 py-3 text-sm text-zinc-500",children:"No other members yet"});async function k(b){j(b);try{await h({teamId:a,memberId:b})}finally{j(null)}}return(0,b.jsx)("ul",{className:"divide-y divide-zinc-800",children:g.map(a=>(0,b.jsxs)("li",{className:"flex items-center justify-between px-4 py-3",children:[(0,b.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,b.jsx)("p",{className:"truncate text-sm font-medium text-zinc-200",children:a.name??a.email??"Unknown user"}),a.name&&a.email&&(0,b.jsx)("p",{className:"truncate text-xs text-zinc-500",children:a.email})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:`rounded-full px-2 py-0.5 text-xs font-medium ${"owner"===a.role?"bg-amber-900/50 text-amber-300":"bg-zinc-800 text-zinc-400"}`,children:a.role}),d&&"owner"!==a.role&&(0,b.jsx)("button",{onClick:()=>k(a._id),disabled:i===a._id,className:"rounded px-2 py-1 text-xs text-red-400 hover:bg-red-900/30 hover:text-red-300 disabled:opacity-50",children:i===a._id?"Removing...":"Remove"})]})]},a._id))})}function i({teamId:a,isOwner:d}){let g=(0,e.useQuery)(f.api.projects.listByTeam,{teamId:a}),h=(0,e.useMutation)(f.api.projects.removeRepo),[i,j]=(0,c.useState)(null);if(!g)return(0,b.jsx)("div",{className:"px-4 py-3 text-sm text-zinc-500",children:"Loading..."});if(0===g.length)return(0,b.jsx)("div",{className:"px-4 py-3 text-sm text-zinc-500",children:"No repositories connected"});async function k(a){j(a);try{await h({repoId:a})}finally{j(null)}}return(0,b.jsx)("ul",{className:"divide-y divide-zinc-800",children:g.map(a=>(0,b.jsxs)("li",{className:"flex items-center justify-between px-4 py-3",children:[(0,b.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,b.jsxs)("p",{className:"truncate text-sm font-medium text-zinc-200",children:[a.githubOwner,"/",a.githubRepo]}),(0,b.jsxs)("div",{className:"mt-0.5 flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-xs text-zinc-500",children:a.defaultBranch}),(0,b.jsx)("span",{className:`rounded-full px-2 py-0.5 text-xs font-medium ${"direct"===a.pushStrategy?"bg-emerald-900/50 text-emerald-300":"bg-blue-900/50 text-blue-300"}`,children:"direct"===a.pushStrategy?"Direct":"PR"})]})]}),d&&(0,b.jsx)("button",{onClick:()=>k(a._id),disabled:i===a._id,className:"rounded px-2 py-1 text-xs text-red-400 hover:bg-red-900/30 hover:text-red-300 disabled:opacity-50",children:i===a._id?"Removing...":"Remove"})]},a._id))})}function j({teamId:a}){let d=(0,e.useMutation)(f.api.projects.addRepo),[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)("main"),[m,n]=(0,c.useState)("pr"),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(null);async function s(b){b.preventDefault();let c=g.trim(),e=i.trim();if(c&&e){p(!0),r(null);try{await d({teamId:a,githubOwner:c,githubRepo:e,defaultBranch:k.trim()||"main",pushStrategy:m}),h(""),j(""),l("main"),n("pr")}catch(a){r(a instanceof Error?a.message:"Failed to connect repository")}finally{p(!1)}}}return(0,b.jsxs)("form",{onSubmit:s,className:"space-y-3 px-4 py-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"text",value:g,onChange:a=>h(a.target.value),placeholder:"Owner (e.g. facebook)",className:"flex-1 rounded-md border border-zinc-700 bg-zinc-900 px-3 py-2 text-sm text-zinc-100 placeholder-zinc-500 outline-none focus:border-zinc-500"}),(0,b.jsx)("span",{className:"text-zinc-500",children:"/"}),(0,b.jsx)("input",{type:"text",value:i,onChange:a=>j(a.target.value),placeholder:"Repo (e.g. react)",className:"flex-1 rounded-md border border-zinc-700 bg-zinc-900 px-3 py-2 text-sm text-zinc-100 placeholder-zinc-500 outline-none focus:border-zinc-500"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"text",value:k,onChange:a=>l(a.target.value),placeholder:"Default branch",className:"flex-1 rounded-md border border-zinc-700 bg-zinc-900 px-3 py-2 text-sm text-zinc-100 placeholder-zinc-500 outline-none focus:border-zinc-500"}),(0,b.jsxs)("select",{value:m,onChange:a=>n(a.target.value),className:"rounded-md border border-zinc-700 bg-zinc-900 px-3 py-2 text-sm text-zinc-100 outline-none focus:border-zinc-500",children:[(0,b.jsx)("option",{value:"pr",children:"Create PR"}),(0,b.jsx)("option",{value:"direct",children:"Direct to main"})]}),(0,b.jsx)("button",{type:"submit",disabled:o||!g.trim()||!i.trim(),className:"rounded-md bg-zinc-100 px-3 py-2 text-sm font-medium text-zinc-900 hover:bg-zinc-200 disabled:opacity-50",children:o?"Connecting...":"Connect"})]}),q&&(0,b.jsx)("p",{className:"text-xs text-red-400",children:q})]})}function k({teamId:a}){let d=(0,e.useQuery)(f.api.teams.listInvites,{teamId:a}),g=(0,e.useMutation)(f.api.teams.inviteMember),h=(0,e.useMutation)(f.api.teams.cancelInvite),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(null);async function q(b){b.preventDefault();let c=i.trim();if(c){l(!0),n(null);try{await g({teamId:a,email:c}),j("")}catch(a){n(a instanceof Error?a.message:"Failed to send invite")}finally{l(!1)}}}async function r(a){p(a);try{await h({inviteId:a})}finally{p(null)}}return(0,b.jsxs)("div",{children:[(0,b.jsxs)("form",{onSubmit:q,className:"flex items-center gap-2 px-4 py-3",children:[(0,b.jsx)("input",{type:"email",value:i,onChange:a=>j(a.target.value),placeholder:"Email address",className:"flex-1 rounded-md border border-zinc-700 bg-zinc-900 px-3 py-2 text-sm text-zinc-100 placeholder-zinc-500 outline-none focus:border-zinc-500"}),(0,b.jsx)("button",{type:"submit",disabled:k||!i.trim(),className:"rounded-md bg-zinc-100 px-3 py-2 text-sm font-medium text-zinc-900 hover:bg-zinc-200 disabled:opacity-50",children:k?"Sending...":"Send Invite"})]}),m&&(0,b.jsx)("p",{className:"px-4 pb-2 text-xs text-red-400",children:m}),d&&d.length>0?(0,b.jsx)("ul",{className:"divide-y divide-zinc-800 border-t border-zinc-800",children:d.map(a=>(0,b.jsxs)("li",{className:"flex items-center justify-between px-4 py-3",children:[(0,b.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,b.jsx)("p",{className:"truncate text-sm text-zinc-300",children:a.email}),(0,b.jsx)("p",{className:"text-xs text-zinc-500",children:"Pending invite"})]}),(0,b.jsx)("button",{onClick:()=>r(a._id),disabled:o===a._id,className:"rounded px-2 py-1 text-xs text-red-400 hover:bg-red-900/30 hover:text-red-300 disabled:opacity-50",children:o===a._id?"Cancelling...":"Cancel"})]},a._id))}):d?(0,b.jsx)("div",{className:"border-t border-zinc-800 px-4 py-3 text-sm text-zinc-500",children:"No pending invites"}):null]})}function l(){let a=(0,d.useParams)().teamId,c=(0,e.useQuery)(f.api.teams.getTeam,{teamId:a});if(void 0===c)return(0,b.jsx)("div",{className:"mx-auto max-w-3xl px-6 py-10",children:(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsx)("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-zinc-600 border-t-white"})})});if(null===c)return(0,b.jsxs)("div",{className:"mx-auto max-w-3xl px-6 py-10",children:[(0,b.jsx)(g.default,{href:"/",className:"text-sm text-zinc-400 hover:text-zinc-200",children:"← Back to dashboard"}),(0,b.jsx)("div",{className:"mt-6 rounded-lg border border-zinc-800 bg-zinc-900 p-8 text-center",children:(0,b.jsx)("p",{className:"text-sm text-zinc-400",children:"Team not found or you don't have access."})})]});let l="owner"===c.myRole;return(0,b.jsxs)("div",{className:"mx-auto max-w-3xl px-6 py-10",children:[(0,b.jsx)(g.default,{href:"/",className:"text-sm text-zinc-400 hover:text-zinc-200",children:"← Back to dashboard"}),(0,b.jsx)("h1",{className:"mt-4 text-2xl font-bold text-zinc-100",children:c.name}),(0,b.jsxs)("p",{className:"mt-1 text-sm text-zinc-500",children:["Team management ",l?"(Owner)":"(Member)"]}),(0,b.jsxs)("div",{className:"mt-8",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-zinc-200",children:"Members"}),(0,b.jsx)("div",{className:"mt-3 overflow-hidden rounded-lg border border-zinc-800 bg-zinc-900",children:(0,b.jsx)(h,{teamId:a,isOwner:l})})]}),l&&(0,b.jsxs)("div",{className:"mt-8",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-zinc-200",children:"Invite Members"}),(0,b.jsx)("div",{className:"mt-3 overflow-hidden rounded-lg border border-zinc-800 bg-zinc-900",children:(0,b.jsx)(k,{teamId:a})})]}),(0,b.jsxs)("div",{className:"mt-8",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-zinc-200",children:"Repositories"}),(0,b.jsxs)("div",{className:"mt-3 overflow-hidden rounded-lg border border-zinc-800 bg-zinc-900",children:[(0,b.jsx)(i,{teamId:a,isOwner:l}),l&&(0,b.jsx)("div",{className:"border-t border-zinc-800",children:(0,b.jsx)(j,{teamId:a})})]})]})]})}a.s(["default",()=>l])}];

//# sourceMappingURL=_031ad62f._.js.map