module.exports=[36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},46058,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},39118,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={DEFAULT_SEGMENT_KEY:function(){return l},NOT_FOUND_SEGMENT_KEY:function(){return m},PAGE_SEGMENT_KEY:function(){return k},addSearchParamsIfPageSegment:function(){return i},computeSelectedLayoutSegment:function(){return j},getSegmentValue:function(){return f},getSelectedLayoutSegmentPath:function(){return function a(b,c,d=!0,e=[]){let g;if(d)g=b[1][c];else{let a=b[1];g=a.children??Object.values(a)[0]}if(!g)return e;let h=f(g[0]);return!h||h.startsWith(k)?e:(e.push(h),a(g,c,!1,e))}},isGroupSegment:function(){return g},isParallelRouteSegment:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(a){return Array.isArray(a)?a[1]:a}function g(a){return"("===a[0]&&a.endsWith(")")}function h(a){return a.startsWith("@")&&"@children"!==a}function i(a,b){if(a.includes(k)){let a=JSON.stringify(b);return"{}"!==a?k+"?"+a:k}return a}function j(a,b){if(!a||0===a.length)return null;let c="children"===b?a[0]:a[a.length-1];return c===l?null:c}let k="__PAGE__",l="__DEFAULT__",m="/_not-found"},43218,a=>{"use strict";var b=a.i(87924),c=a.i(59257);a.i(11241);var d=a.i(96373),e=a.i(1322);function f(){let{signOut:a}=(0,c.useAuthActions)(),f=(0,d.useQuery)(e.api.users.currentUser),g=f?.email?f.email.charAt(0).toUpperCase():f?.name?f.name.charAt(0).toUpperCase():"U";return(0,b.jsxs)("header",{className:"flex h-12 shrink-0 items-center justify-between border-b border-zinc-800 bg-zinc-900 px-4 text-white",children:[(0,b.jsx)("div",{className:"text-lg font-bold tracking-tight",children:"Artie"}),(0,b.jsx)("div",{className:"text-sm text-zinc-400",children:"my-project"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-zinc-700 text-xs font-medium",children:g}),(0,b.jsx)("button",{onClick:()=>void a(),className:"text-sm text-zinc-400 hover:text-white",children:"Sign out"})]})]})}a.s(["Header",()=>f])},67353,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(11241);var d=a.i(77926),e=a.i(50944),f=a.i(43218);function g({left:a,right:d}){let e=(0,c.useRef)(null),[f,g]=(0,c.useState)(35),h=(0,c.useRef)(!1);return(0,c.useEffect)(()=>{function a(a){if(!h.current||!e.current)return;let b=e.current.getBoundingClientRect(),c=(a.clientX-b.left)/b.width*100;g(Math.min(60,Math.max(300/b.width*100,c)))}function b(){h.current=!1,document.body.style.cursor="",document.body.style.userSelect=""}return document.addEventListener("mousemove",a),document.addEventListener("mouseup",b),()=>{document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",b)}},[]),(0,b.jsxs)("div",{ref:e,className:"flex min-h-0 flex-1",children:[(0,b.jsx)("div",{className:"overflow-y-auto",style:{width:`${f}%`},children:a}),(0,b.jsx)("div",{onMouseDown:function(){h.current=!0,document.body.style.cursor="col-resize",document.body.style.userSelect="none"},className:"w-1 shrink-0 cursor-col-resize bg-zinc-200 transition-colors hover:bg-zinc-400 dark:bg-zinc-700 dark:hover:bg-zinc-500"}),(0,b.jsx)("div",{className:"min-w-0 flex-1 overflow-y-auto",children:d})]})}var h=a.i(96373),i=a.i(1322);function j({role:a,content:c,timestamp:d}){let e="user"===a;return(0,b.jsxs)("div",{className:`flex flex-col ${e?"items-end":"items-start"}`,children:[(0,b.jsx)("span",{className:"mb-1 text-xs text-zinc-400",children:e?"You":"Artie"}),(0,b.jsx)("div",{className:`max-w-[80%] rounded-lg px-3 py-2 text-sm ${e?"ml-auto bg-zinc-800 text-white":"mr-auto bg-zinc-100 text-zinc-900 dark:bg-zinc-800 dark:text-zinc-100"}`,children:c}),(0,b.jsx)("span",{className:"mt-1 text-xs text-zinc-400",children:function(a){let b=Math.floor((Date.now()-a)/1e3);if(b<60)return"just now";let c=Math.floor(b/60);if(c<60)return`${c}m ago`;let d=Math.floor(c/60);return d<24?`${d}h ago`:new Date(a).toLocaleDateString()}(d)})]})}function k({messages:a}){let d=(0,c.useRef)(null);return((0,c.useEffect)(()=>{d.current?.scrollIntoView({behavior:"smooth"})},[a.length]),0===a.length)?(0,b.jsx)("div",{className:"flex flex-1 items-center justify-center p-4",children:(0,b.jsx)("p",{className:"text-center text-sm text-zinc-400",children:"Start a conversation to preview and edit your code"})}):(0,b.jsxs)("div",{className:"flex flex-1 flex-col gap-3 overflow-y-auto p-4",children:[a.map(a=>(0,b.jsx)(j,{role:a.role,content:a.content,timestamp:a.timestamp},a._id)),(0,b.jsx)("div",{ref:d})]})}function l({onSessionCreated:a}){let[d,e]=(0,c.useState)(""),[f,g]=(0,c.useState)(null),[j,l]=(0,c.useState)(!1),m=(0,c.useRef)(!1),n=(0,h.useMutation)(i.api.sessions.createDemo),o=(0,h.useMutation)(i.api.messages.send),p=(0,h.useMutation)(i.api.ai.generateResponse),q=(0,h.useQuery)(i.api.messages.list,f?{sessionId:f}:"skip");(0,c.useEffect)(()=>{m.current||(m.current=!0,n().then(b=>{g(b),a?.(b)}))},[n,a]);let r=async a=>{a.preventDefault();let b=d.trim();if(b&&f&&!j){l(!0),e("");try{await o({sessionId:f,role:"user",content:b}),await p({sessionId:f,userMessage:b})}finally{l(!1)}}},s=!!f&&d.trim().length>0&&!j;return f?(0,b.jsxs)("div",{className:"flex h-full flex-col bg-white dark:bg-zinc-900",children:[(0,b.jsx)(k,{messages:q??[]}),(0,b.jsx)("form",{onSubmit:r,className:"border-t border-zinc-200 p-3 dark:border-zinc-700",children:(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"text",value:d,onChange:a=>e(a.target.value),placeholder:"Describe what you'd like to change...",disabled:j,className:"flex-1 rounded-lg border border-zinc-300 bg-zinc-50 px-3 py-2 text-sm outline-none placeholder:text-zinc-400 focus:border-zinc-500 disabled:opacity-50 dark:border-zinc-600 dark:bg-zinc-800 dark:text-white dark:placeholder:text-zinc-500 dark:focus:border-zinc-400"}),(0,b.jsx)("button",{type:"submit",disabled:!s,className:"rounded-lg bg-zinc-900 px-3 py-2 text-sm font-medium text-white transition-colors hover:bg-zinc-700 disabled:opacity-50 dark:bg-zinc-100 dark:text-zinc-900 dark:hover:bg-zinc-300",children:(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4",children:(0,b.jsx)("path",{d:"M3.105 2.288a.75.75 0 0 0-.826.95l1.414 4.926A1.5 1.5 0 0 0 5.135 9.25h6.115a.75.75 0 0 1 0 1.5H5.135a1.5 1.5 0 0 0-1.442 1.086l-1.414 4.926a.75.75 0 0 0 .826.95l14.095-5.638a.75.75 0 0 0 0-1.398L3.105 2.289Z"})})})]})})]}):(0,b.jsx)("div",{className:"flex h-full flex-col items-center justify-center bg-white dark:bg-zinc-900",children:(0,b.jsx)("p",{className:"text-sm text-zinc-400",children:"Starting session..."})})}function m({sessionId:a}){let[d,e]=(0,c.useState)("preview"),f=(0,h.useQuery)(i.api.sessions.getPreviewCode,a?{sessionId:a}:"skip");return(0,b.jsxs)("div",{className:"flex h-full flex-col bg-zinc-100 dark:bg-zinc-950",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1 border-b border-zinc-200 px-3 py-1.5 dark:border-zinc-800",children:[(0,b.jsx)("button",{onClick:()=>e("preview"),className:`rounded px-2.5 py-1 text-xs font-medium transition-colors ${"preview"===d?"bg-zinc-900 text-white dark:bg-zinc-100 dark:text-zinc-900":"text-zinc-500 hover:text-zinc-700 dark:text-zinc-400 dark:hover:text-zinc-200"}`,children:"Preview"}),(0,b.jsx)("button",{onClick:()=>e("code"),className:`rounded px-2.5 py-1 text-xs font-medium transition-colors ${"code"===d?"bg-zinc-900 text-white dark:bg-zinc-100 dark:text-zinc-900":"text-zinc-500 hover:text-zinc-700 dark:text-zinc-400 dark:hover:text-zinc-200"}`,children:"Code"})]}),f?"preview"===d?(0,b.jsx)("iframe",{srcDoc:f,sandbox:"allow-scripts",title:"Preview",className:"flex-1 w-full bg-white",style:{border:"none"}}):(0,b.jsx)("div",{className:"flex-1 overflow-auto bg-zinc-50 p-4 dark:bg-zinc-900",children:(0,b.jsx)("pre",{className:"text-xs leading-relaxed text-zinc-700 dark:text-zinc-300",children:(0,b.jsx)("code",{children:f})})}):(0,b.jsx)("div",{className:"flex flex-1 items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-zinc-200 dark:bg-zinc-800",children:(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-6 w-6 text-zinc-400",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M4.25 5.5a.75.75 0 0 0-.75.75v8.5c0 .414.336.75.75.75h8.5a.75.75 0 0 0 .75-.75v-4a.75.75 0 0 1 1.5 0v4A2.25 2.25 0 0 1 12.75 17h-8.5A2.25 2.25 0 0 1 2 14.75v-8.5A2.25 2.25 0 0 1 4.25 4h5a.75.75 0 0 1 0 1.5h-5Zm7.217-.818a.75.75 0 0 1 1.06 0l3.5 3.5a.75.75 0 0 1-1.06 1.06l-1.72-1.72v6.228a.75.75 0 0 1-1.5 0V7.522l-1.72 1.72a.75.75 0 0 1-1.06-1.06l3.5-3.5Z",clipRule:"evenodd"})})}),(0,b.jsx)("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Send a message to see a live preview"})]})}),(0,b.jsx)("div",{className:"border-t border-zinc-200 px-4 py-2 dark:border-zinc-800",children:(0,b.jsx)("p",{className:`text-xs ${f?"text-emerald-600 dark:text-emerald-400":"text-zinc-400 dark:text-zinc-500"}`,children:f?"Preview ready":"No preview available"})})]})}function n(){let{isAuthenticated:a,isLoading:h}=(0,d.useConvexAuth)(),i=(0,e.useRouter)();(0,e.useParams)();let[j,k]=(0,c.useState)(null);return((0,c.useEffect)(()=>{h||a||i.push("/login")},[a,h,i]),h)?(0,b.jsx)("div",{className:"flex h-screen items-center justify-center bg-zinc-950",children:(0,b.jsx)("div",{className:"h-6 w-6 animate-spin rounded-full border-2 border-zinc-600 border-t-white"})}):a?(0,b.jsxs)("div",{className:"flex h-screen flex-col",children:[(0,b.jsx)(f.Header,{}),(0,b.jsx)(g,{left:(0,b.jsx)(l,{onSessionCreated:k}),right:(0,b.jsx)(m,{sessionId:j})})]}):null}a.s(["default",()=>n],67353)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__96279be9._.js.map