{"version":3,"sources":["../../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../../src/app/%28dashboard%29/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","\"use client\";\n\nimport { useState } from \"react\";\nimport { useQuery, useMutation } from \"convex/react\";\nimport { api } from \"../../../convex/_generated/api\";\nimport { Id } from \"../../../convex/_generated/dataModel\";\nimport Link from \"next/link\";\n\nfunction TeamRepos({ teamId }: { teamId: Id<\"teams\"> }) {\n  const repos = useQuery(api.projects.listByTeam, { teamId });\n\n  if (!repos) {\n    return <div className=\"px-4 py-2 text-sm text-zinc-500\">Loading...</div>;\n  }\n\n  if (repos.length === 0) {\n    return (\n      <div className=\"px-4 py-3 text-sm text-zinc-500\">\n        No repos connected yet\n      </div>\n    );\n  }\n\n  return (\n    <ul className=\"divide-y divide-zinc-800\">\n      {repos.map((repo) => (\n        <li key={repo._id}>\n          <Link\n            href={`/workspace/${repo._id}`}\n            className=\"flex items-center gap-3 px-4 py-3 transition-colors hover:bg-zinc-800/50\"\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              viewBox=\"0 0 20 20\"\n              fill=\"currentColor\"\n              className=\"h-4 w-4 shrink-0 text-zinc-500\"\n            >\n              <path\n                fillRule=\"evenodd\"\n                d=\"M4.25 2A2.25 2.25 0 0 0 2 4.25v11.5A2.25 2.25 0 0 0 4.25 18h11.5A2.25 2.25 0 0 0 18 15.75V4.25A2.25 2.25 0 0 0 15.75 2H4.25Zm4.03 6.28a.75.75 0 0 0-1.06-1.06L4.97 9.47a.75.75 0 0 0 0 1.06l2.25 2.25a.75.75 0 0 0 1.06-1.06L6.56 10l1.72-1.72Zm3.44-1.06a.75.75 0 1 1 1.06 1.06L11.06 10l1.72 1.72a.75.75 0 1 1-1.06 1.06l-2.25-2.25a.75.75 0 0 1 0-1.06l2.25-2.25Z\"\n                clipRule=\"evenodd\"\n              />\n            </svg>\n            <div className=\"min-w-0 flex-1\">\n              <p className=\"truncate text-sm font-medium text-zinc-200\">\n                {repo.githubOwner}/{repo.githubRepo}\n              </p>\n              <p className=\"truncate text-xs text-zinc-500\">{repo.defaultBranch}</p>\n            </div>\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              viewBox=\"0 0 20 20\"\n              fill=\"currentColor\"\n              className=\"h-4 w-4 text-zinc-600\"\n            >\n              <path\n                fillRule=\"evenodd\"\n                d=\"M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z\"\n                clipRule=\"evenodd\"\n              />\n            </svg>\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nexport default function DashboardPage() {\n  const teams = useQuery(api.teams.listMyTeams);\n  const user = useQuery(api.users.currentUser);\n  const createTeam = useMutation(api.teams.createTeam);\n  const [showCreate, setShowCreate] = useState(false);\n  const [teamName, setTeamName] = useState(\"\");\n  const [creating, setCreating] = useState(false);\n\n  const displayName = user?.name ?? user?.email ?? \"there\";\n\n  async function handleCreateTeam(e: React.FormEvent) {\n    e.preventDefault();\n    const name = teamName.trim();\n    if (!name) return;\n    setCreating(true);\n    try {\n      await createTeam({ name });\n      setTeamName(\"\");\n      setShowCreate(false);\n    } finally {\n      setCreating(false);\n    }\n  }\n\n  return (\n    <div className=\"mx-auto max-w-3xl px-6 py-10\">\n      <h1 className=\"text-2xl font-bold text-zinc-100\">\n        Welcome back, {displayName}\n      </h1>\n      <p className=\"mt-1 text-sm text-zinc-500\">\n        Select a repo to open the workspace, or create a new team.\n      </p>\n\n      <div className=\"mt-8 flex items-center justify-between\">\n        <h2 className=\"text-lg font-semibold text-zinc-200\">Your Teams</h2>\n        <button\n          onClick={() => setShowCreate(true)}\n          className=\"rounded-md bg-zinc-100 px-3 py-1.5 text-sm font-medium text-zinc-900 hover:bg-zinc-200\"\n        >\n          Create Team\n        </button>\n      </div>\n\n      {showCreate && (\n        <form\n          onSubmit={handleCreateTeam}\n          className=\"mt-4 flex items-center gap-2\"\n        >\n          <input\n            type=\"text\"\n            value={teamName}\n            onChange={(e) => setTeamName(e.target.value)}\n            placeholder=\"Team name\"\n            autoFocus\n            className=\"flex-1 rounded-md border border-zinc-700 bg-zinc-900 px-3 py-2 text-sm text-zinc-100 placeholder-zinc-500 outline-none focus:border-zinc-500\"\n          />\n          <button\n            type=\"submit\"\n            disabled={creating || !teamName.trim()}\n            className=\"rounded-md bg-zinc-100 px-3 py-2 text-sm font-medium text-zinc-900 hover:bg-zinc-200 disabled:opacity-50\"\n          >\n            {creating ? \"Creating...\" : \"Create\"}\n          </button>\n          <button\n            type=\"button\"\n            onClick={() => {\n              setShowCreate(false);\n              setTeamName(\"\");\n            }}\n            className=\"rounded-md px-3 py-2 text-sm text-zinc-400 hover:text-zinc-200\"\n          >\n            Cancel\n          </button>\n        </form>\n      )}\n\n      {teams === undefined ? (\n        <div className=\"mt-6 flex justify-center\">\n          <div className=\"h-5 w-5 animate-spin rounded-full border-2 border-zinc-600 border-t-white\" />\n        </div>\n      ) : teams.length === 0 ? (\n        <div className=\"mt-6 rounded-lg border border-zinc-800 bg-zinc-900 p-8 text-center\">\n          <p className=\"text-sm text-zinc-400\">\n            You don&apos;t have any teams yet.\n          </p>\n          <button\n            onClick={() => setShowCreate(true)}\n            className=\"mt-3 rounded-md bg-zinc-100 px-4 py-2 text-sm font-medium text-zinc-900 hover:bg-zinc-200\"\n          >\n            Create your first team\n          </button>\n        </div>\n      ) : (\n        <div className=\"mt-6 space-y-4\">\n          {teams.map((team) => (\n            <div\n              key={team._id}\n              className=\"overflow-hidden rounded-lg border border-zinc-800 bg-zinc-900\"\n            >\n              <div className=\"flex items-center justify-between border-b border-zinc-800 px-4 py-3\">\n                <h3 className=\"text-sm font-semibold text-zinc-200\">\n                  {team.name}\n                </h3>\n                <Link\n                  href={`/team/${team._id}`}\n                  className=\"rounded px-2 py-1 text-xs text-zinc-400 hover:bg-zinc-800 hover:text-zinc-200\"\n                >\n                  Manage\n                </Link>\n              </div>\n              <TeamRepos teamId={team._id} />\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["module","exports","require","vendored","ReactServerDOMTurbopackClient"],"mappings":"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","ignoreList":[0]}